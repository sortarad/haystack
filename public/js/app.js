window.Haystack=function(){return{needle:"",items:null,results:[],error:!1,init:function(){var e=this;console.log("Initializing..."),fetch("/haystack/search").then((function(t){return t.ok?t.json():(e.error=!0,null)})).then((function(t){console.log("Set items",t),e.items=t})).catch(console.error)},search:function(){var e=this;if(console.log("Searching..."),null===this.items)return console.log("No items to search"),this.results=[],!1;console.log("Needle",this.needle),this.results=this.items.filter((function(t){return t.id===e.needle}))}}};